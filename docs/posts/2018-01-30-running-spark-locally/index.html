<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  
  <title>Running Spark Locally</title>
  <meta property="og:title" content="Running Spark Locally" />
  <meta name="twitter:title" content="Running Spark Locally" />
  

  

  <meta name="author" content=""/>
  <meta property="og:site_name" content="Programming Notes" />
  <meta property="og:url" content="https://sureshsarda.github.io/posts/2018-01-30-running-spark-locally/" />

  
  <meta name="twitter:card" content="summary" />

  

  
  <meta property="og:type" content="article" />
  
  
  
  <meta name="generator" content="Hugo 0.80.0" />
  
  

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;300;500;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Oxygen&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">


  <link rel="stylesheet" href="https://sureshsarda.github.io/assets/css/style.css" />
  <link rel="stylesheet" href="https://sureshsarda.github.io/assets/css/custom.css" />
  
  
  
  <script type="text/javascript" src="https://sureshsarda.github.io/assets/js/bundle.js"></script>
</head>




<body>
    <article class="container">
        <header>
            

            
                <p>
                    <a href="/">Programming Notes</a>
                </p>
                <h1>Running Spark Locally</h1>
                
            
            
        </header>





        <main id="js-article" class="container">
            <div class="row">

                <div class="col-9 py-5">
                    <p>Running distributed applications on local machine might seem like a tedious task, but apparently it’s pretty easy.</p>
<h2 id="1-download-and-extract-the-binary">1. Download and extract the binary</h2>
<p>The binary can be downloaded from <a href="https://spark.apache.org/downloads.html">here</a>, extract it somewhere, let’s call it <code>SPARK_HOME</code></p>
<h2 id="2-running-the-master">2. Running the master</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd $SPARK_HOME/sbin
./start-master.sh
</code></pre></div><p><em>Verify permissions if you are not able to run it</em></p>
<p>The script will emit some log statement and a URL where master is running. On local machine this will be of format: <code>spark://your-machine-name:7077</code></p>
<h2 id="3-verifying-with-web-ui">3. Verifying with Web UI</h2>
<p>Spark ships with a UI as well and it is started automatically (default settings) at port <code>8080</code>, so you can navigate to <code>localhost:8080</code> and see if things are running fine</p>
<h2 id="4-running-slaves">4. Running Slaves</h2>
<p>Run the slaves/workers by executing:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./start-slave.sh $SPARK_URL -m 512m -c <span style="color:#ae81ff">1</span>
</code></pre></div><p>The first parameter is the URL at which spark master is running.
You can also provide the memory and CPU cores the worker will take, in this example its 512mb and 1 core. The default is <code>(total memory - 1gb)</code> memory and all available cores which is not recommended in local mode.
You can verify on the UI if the slave got attached to the master.</p>
<h2 id="5-stopping">5. Stopping</h2>
<p>To stop, execute <code>./stop-all.sh</code> in the same directory. If things get crazy you can of course find the tasks using <code>ps -aux | grep &quot;spark&quot;</code> and kill them individually.</p>
<p>Detailed information can be found <a href="https://spark.apache.org/docs/latest/spark-standalone.html">here</a>.</p>


                </div>
                <aside class="bd-toc toc col-2 py-5">
                    <div class="sticky-top pt-5">
                        <h3>On this page</h3>
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-download-and-extract-the-binary">1. Download and extract the binary</a></li>
    <li><a href="#2-running-the-master">2. Running the master</a></li>
    <li><a href="#3-verifying-with-web-ui">3. Verifying with Web UI</a></li>
    <li><a href="#4-running-slaves">4. Running Slaves</a></li>
    <li><a href="#5-stopping">5. Stopping</a></li>
  </ul>
</nav>
                    </div>
                </aside>
            </div>

            


        </main>

        
    </article>
    <footer class="mt-5 py-5">
    <div class="container py-5">
        
        <div class="row">
            <div class="col-lg-4 mb-3">
                <h3>
                    <a href="/">Programming Notes</a>
                </h3>
                <ul class="list-unstyled">
                    <li>Share the knowledge that you can and learn more in the process.</li>
                </ul>

            </div>
            <div class="col-lg-1"></div>
            
            
            <div class="col-lg-2">
                <h5>Curated</h5>
                <ul class="list-unstyled">
                    
                    <li class="mb-2"><a href="/blog">Blog</a></li>
                    
                    <li class="mb-2"><a href="/books">Books</a></li>
                    
                    <li class="mb-2"><a href="/papers">Papers</a></li>
                    
                </ul>
            </div>
            
            
            
            <div class="col-lg-2">
                <h5>Links</h5>
                <ul class="list-unstyled">
                    
                    <li class="mb-2"><a href="/series">Article Series</a></li>
                    
                    <li class="mb-2"><a href="/categories">Categories</a></li>
                    
                    <li class="mb-2"><a href="/posts">Posts</a></li>
                    
                    <li class="mb-2"><a href="/tags">Tags</a></li>
                    
                </ul>
            </div>
            
            
            
            <div class="col-lg-2">
                <h5>Social</h5>
                <ul class="list-unstyled">
                    
                    <li class="mb-2"><a href="/">Github</a></li>
                    
                    <li class="mb-2"><a href="/">LinkedIn</a></li>
                    
                    <li class="mb-2"><a href="/">Medium</a></li>
                    
                    <li class="mb-2"><a href="/">Stack Overflow</a></li>
                    
                    <li class="mb-2"><a href="/">Twitter</a></li>
                    
                </ul>
            </div>
            
            
        </div>
        
    </div>

    <div class="p-copyright">
        
        Suresh Sarda
        &nbsp;&bull;&nbsp;
        2020

        
        &nbsp;&bull;&nbsp;
        <a href="https://sureshsarda.github.io/">Programming Notes</a>
        
        
    </div>
</footer>