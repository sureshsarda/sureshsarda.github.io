<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  
  <title>Java 8 Streams 101</title>
  <meta property="og:title" content="Java 8 Streams 101" />
  <meta name="twitter:title" content="Java 8 Streams 101" />
  

  

  <meta name="author" content=""/>
  <meta property="og:site_name" content="Programming Notes" />
  <meta property="og:url" content="https://sureshsarda.github.io/java/introduction-to-java-streams-101/" />

  
  <meta name="twitter:card" content="summary" />

  

  
  <meta property="og:type" content="article" />
  
  
  
  <meta name="generator" content="Hugo 0.80.0" />
  
  

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;300;500;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Oxygen&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">


  <link rel="stylesheet" href="https://sureshsarda.github.io/assets/css/style.css" />
  <link rel="stylesheet" href="https://sureshsarda.github.io/assets/css/custom.css" />
  
  
  
  <script type="text/javascript" src="https://sureshsarda.github.io/assets/js/bundle.js"></script>
</head>




<body>
    <article class="container">
        <header>
            

            
                <p>
                    <a href="/">Programming Notes</a>
                </p>
                <h1>Java 8 Streams 101</h1>
                
            
            
        </header>





        <main id="js-article" class="container">
            <div class="row">

                <div class="col-9 py-5">
                    <p>Java 8 introduced a new Stream API. In this article we will take a look at how to create and use streams.</p>
<h2 id="how-do-i-create-streams">How do I create Streams?</h2>
<p>Streams can be created using the <code>of</code> method on the Stream class like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> stream <span style="color:#f92672">=</span> Stream<span style="color:#f92672">.&lt;</span>String<span style="color:#f92672">&gt;</span>of<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Lorem&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;ipsum&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;dolor&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;sit&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;amet&#34;</span><span style="color:#f92672">);</span>
</code></pre></div><p>Or calling the <code>stream()</code> method on list or any collection like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Lorem&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;ipsum&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;dolor&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;sit&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;amet&#34;</span><span style="color:#f92672">);</span>
Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> stream <span style="color:#f92672">=</span> list<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">();</span>
</code></pre></div><p>Or from an Array like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String sentence <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit&#34;</span><span style="color:#f92672">;</span>
String<span style="color:#f92672">[]</span> tokens <span style="color:#f92672">=</span> sentence<span style="color:#f92672">.</span><span style="color:#a6e22e">split</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">);</span>
Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> stream <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">(</span>tokens<span style="color:#f92672">);</span>
</code></pre></div><p>Or you also use the <code>Stream.Builder</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">.</span><span style="color:#a6e22e">Builder</span><span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> builder <span style="color:#f92672">=</span> Stream<span style="color:#f92672">.</span><span style="color:#a6e22e">builder</span><span style="color:#f92672">();</span>
builder<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;lorem&#34;</span><span style="color:#f92672">);</span>
builder<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ipsum&#34;</span><span style="color:#f92672">);</span>
builder<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;dolor&#34;</span><span style="color:#f92672">);</span>
builder<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;sit&#34;</span><span style="color:#f92672">);</span>
builder<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;amet&#34;</span><span style="color:#f92672">);</span>
Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> stream <span style="color:#f92672">=</span> builder<span style="color:#f92672">.</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>
</code></pre></div><h2 id="stream-pipelines">Stream Pipelines</h2>
<p>Stream manipulate data in terms of pipelines. They have intermediate and terminal operations. Intermediate operations work on a stream, process it and return a stream. Example of such operations are map, filter, etc. Terminal Operations produce a side effect. Example of such operations are Collectors. Let&rsquo;s take a deeper look in all these operations.</p>
<p>Let&rsquo;s say we want to convert a list of string to lowercase. Earlier we use to do:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> tokens <span style="color:#f92672">=</span> getTokens<span style="color:#f92672">();</span>
List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> lowerCased <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
<span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>String token <span style="color:#f92672">:</span> tokens<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    lowerCased<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>token<span style="color:#f92672">.</span><span style="color:#a6e22e">toLowerCase</span><span style="color:#f92672">());</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>With Streams, this can be rewritten in more readable way:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> lowerCased <span style="color:#f92672">=</span> tokens<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>String<span style="color:#f92672">::</span>toUpperCase<span style="color:#f92672">).</span><span style="color:#a6e22e">collect</span><span style="color:#f92672">(</span>Collectors<span style="color:#f92672">.</span><span style="color:#a6e22e">toList</span><span style="color:#f92672">());</span>
</code></pre></div><p>In this example to we first create a stream from the list/collection using <code>stream()</code> method. Then we apply bunch of intermediate operations, <code>map</code> in this case. Finally, we collect all the result in a list using <code>collect</code> method.</p>
<h2 id="what-transformations-can-we-apply">What transformations can we apply?</h2>
<p>There are many predefined transformations available - map, filter, limit, skip, sort, etc.</p>
<h2 id="what-are-the-terminal-operations-we-can-apply">What are the terminal operations we can apply?</h2>
<p>Terminal operations typically produce a result. You can have terminal operations to collect and convert the stream to any collections, or you can find some more information about the stream like - first, last, sum, findAny, distinct. If the operations is not present in the predefined operations, you can write a reducer function that reduces the entire stream to a single value by repeatedly applying a method.</p>
<h2 id="to-vague-show-me-some-examples">To Vague. Show me some examples!</h2>
<h3 id="filter-strings-based-on-a-condition">Filter Strings based on a condition</h3>
<p>Find out Strings greater than 5 characters long</p>
<p>Before Streams</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> input <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;lorem ipsum dolor sit amet, consectetur adipiscing elit&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">split</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">));</span>
List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> filtered <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
<span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>String token <span style="color:#f92672">:</span> input<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>token<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;</span> 5<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        input<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>token<span style="color:#f92672">)</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>After Streams</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> input <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;lorem ipsum dolor sit amet, consectetur adipiscing elit&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">split</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">));</span>
List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> out <span style="color:#f92672">=</span> input<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>it <span style="color:#f92672">-&gt;</span> it<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;</span> 5<span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">collect</span><span style="color:#f92672">(</span>Collectors<span style="color:#f92672">.</span><span style="color:#a6e22e">toList</span><span style="color:#f92672">());</span>

<span style="color:#75715e">// out = [consectetur, adipiscing]
</span></code></pre></div>

                </div>
                <aside class="bd-toc toc col-2 py-5">
                    <div class="sticky-top pt-5">
                        <h3>On this page</h3>
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#how-do-i-create-streams">How do I create Streams?</a></li>
    <li><a href="#stream-pipelines">Stream Pipelines</a></li>
    <li><a href="#what-transformations-can-we-apply">What transformations can we apply?</a></li>
    <li><a href="#what-are-the-terminal-operations-we-can-apply">What are the terminal operations we can apply?</a></li>
    <li><a href="#to-vague-show-me-some-examples">To Vague. Show me some examples!</a>
      <ul>
        <li><a href="#filter-strings-based-on-a-condition">Filter Strings based on a condition</a></li>
      </ul>
    </li>
  </ul>
</nav>
                    </div>
                </aside>
            </div>

            


        </main>

        
    </article>
    <footer class="mt-5 py-5">
    <div class="container py-5">
        
        <div class="row">
            <div class="col-lg-4 mb-3">
                <h3>
                    <a href="/">Programming Notes</a>
                </h3>
                <ul class="list-unstyled">
                    <li>Share the knowledge that you can and learn more in the process.</li>
                </ul>

            </div>
            <div class="col-lg-1"></div>
            
            
            <div class="col-lg-2">
                <h5>Curated</h5>
                <ul class="list-unstyled">
                    
                    <li class="mb-2"><a href="/blog">Blog</a></li>
                    
                    <li class="mb-2"><a href="/books">Books</a></li>
                    
                    <li class="mb-2"><a href="/papers">Papers</a></li>
                    
                </ul>
            </div>
            
            
            
            <div class="col-lg-2">
                <h5>Links</h5>
                <ul class="list-unstyled">
                    
                    <li class="mb-2"><a href="/series">Article Series</a></li>
                    
                    <li class="mb-2"><a href="/categories">Categories</a></li>
                    
                    <li class="mb-2"><a href="/posts">Posts</a></li>
                    
                    <li class="mb-2"><a href="/tags">Tags</a></li>
                    
                </ul>
            </div>
            
            
            
            <div class="col-lg-2">
                <h5>Social</h5>
                <ul class="list-unstyled">
                    
                    <li class="mb-2"><a href="/">Github</a></li>
                    
                    <li class="mb-2"><a href="/">LinkedIn</a></li>
                    
                    <li class="mb-2"><a href="/">Medium</a></li>
                    
                    <li class="mb-2"><a href="/">Stack Overflow</a></li>
                    
                    <li class="mb-2"><a href="/">Twitter</a></li>
                    
                </ul>
            </div>
            
            
        </div>
        
    </div>

    <div class="p-copyright">
        
        Suresh Sarda
        &nbsp;&bull;&nbsp;
        2020

        
        &nbsp;&bull;&nbsp;
        <a href="https://sureshsarda.github.io/">Programming Notes</a>
        
        
    </div>
</footer>