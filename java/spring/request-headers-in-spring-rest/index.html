<!doctype html><html lang=en-us class=dark><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Spring - Read Http Request headers | s9a.me</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="In the previous article we saw how to use request parameters and request body of a request. In this article we will see how to use the request headers.
The request headers can be accessed using the @RequestHeader attribute.
@RequestMapping(&#34;/greeting&#34;) public ResponseEntity<String> greeting(@RequestHeader(&#34;Accept-Language&#34;) String language, @RequestHeader(&#34;Content-Type&#34;) String contentType) { // do something with the headers return new ResponseEntity<String>(String.format(&#34;Language: %s, Content Type: %s&#34;, language, contentType), HttpStatus.OK); } Note that the name of the header field is case insensitive."><meta name=generator content="Hugo 0.109.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&family=Source+Sans+Pro:wght@200;300;400;700;900&display=swap"><meta property="og:title" content="Spring - Read Http Request headers"><meta property="og:description" content="In the previous article we saw how to use request parameters and request body of a request. In this article we will see how to use the request headers.
The request headers can be accessed using the @RequestHeader attribute.
@RequestMapping(&#34;/greeting&#34;) public ResponseEntity<String> greeting(@RequestHeader(&#34;Accept-Language&#34;) String language, @RequestHeader(&#34;Content-Type&#34;) String contentType) { // do something with the headers return new ResponseEntity<String>(String.format(&#34;Language: %s, Content Type: %s&#34;, language, contentType), HttpStatus.OK); } Note that the name of the header field is case insensitive."><meta property="og:type" content="article"><meta property="og:url" content="/java/spring/request-headers-in-spring-rest/"><meta property="og:image" content="/images/slipbox.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-23T00:00:00+00:00"><meta property="article:modified_time" content="2019-11-23T00:00:00+00:00"><meta property="og:site_name" content="sureshsarda.me"><meta itemprop=name content="Spring - Read Http Request headers"><meta itemprop=description content="In the previous article we saw how to use request parameters and request body of a request. In this article we will see how to use the request headers.
The request headers can be accessed using the @RequestHeader attribute.
@RequestMapping(&#34;/greeting&#34;) public ResponseEntity<String> greeting(@RequestHeader(&#34;Accept-Language&#34;) String language, @RequestHeader(&#34;Content-Type&#34;) String contentType) { // do something with the headers return new ResponseEntity<String>(String.format(&#34;Language: %s, Content Type: %s&#34;, language, contentType), HttpStatus.OK); } Note that the name of the header field is case insensitive."><meta itemprop=datePublished content="2019-11-23T00:00:00+00:00"><meta itemprop=dateModified content="2019-11-23T00:00:00+00:00"><meta itemprop=wordCount content="346"><meta itemprop=image content="/images/slipbox.jpg"><meta itemprop=keywords content="spring,java,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/slipbox.jpg"><meta name=twitter:title content="Spring - Read Http Request headers"><meta name=twitter:description content="In the previous article we saw how to use request parameters and request body of a request. In this article we will see how to use the request headers.
The request headers can be accessed using the @RequestHeader attribute.
@RequestMapping(&#34;/greeting&#34;) public ResponseEntity<String> greeting(@RequestHeader(&#34;Accept-Language&#34;) String language, @RequestHeader(&#34;Content-Type&#34;) String contentType) { // do something with the headers return new ResponseEntity<String>(String.format(&#34;Language: %s, Content Type: %s&#34;, language, contentType), HttpStatus.OK); } Note that the name of the header field is case insensitive."></head><body class="bg-slate-100 dark:bg-slate-900"><main><article class="center bg-white relative max-w-4xl mx-auto px-12 py-16"><header class="border-b-2 mb-8"><aside><a href=/ class="font-semibold text-base uppercase text-sky-700">HOME</a>
<a href=/category/how-to class="font-semibold text-base uppercase text-sky-700">&bull; HOW TO</a></aside><h1 class="text-5xl my-4">Spring - Read Http Request headers</h1><div class=mb-12><time class="text-base text-gray-700" datetime=2019-11-23T00:00:00Z>November 23, 2019</time></div></header><div class=prose><p>In the previous article we saw how to use request parameters and request body of a request. In this article we will see how to use the request headers.</p><p>The request headers can be accessed using the <code>@RequestHeader</code> attribute.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@RequestMapping</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/greeting&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> ResponseEntity<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>greeting</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@RequestHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Accept-Language&#34;</span><span style=color:#f92672>)</span> String language<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>@RequestHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Content-Type&#34;</span><span style=color:#f92672>)</span> String contentType<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// do something with the headers
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> ResponseEntity<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>format</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Language: %s, Content Type: %s&#34;</span><span style=color:#f92672>,</span> language<span style=color:#f92672>,</span> contentType<span style=color:#f92672>),</span> HttpStatus<span style=color:#f92672>.</span><span style=color:#a6e22e>OK</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p><em>Note that the name of the header field is case insensitive. So <code>Content-Type</code> and <code>content-type</code> are both same.</em></p><p>If in case the header value is not present in the request, then a <code>400 Bad Request</code> error is sent as response.</p><h2 id=marking-headers-as-optional>Marking headers as optional</h2><p>Headers can be marked as optional and <code>400 Bad Request</code> will not be sent in case if the header is absent. This can be achieved using the <code>required</code> parameter.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@RequestHeader</span><span style=color:#f92672>(</span>name <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>Content<span style=color:#f92672>-</span>Type<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> required <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>Make sure you check for null values or provide default values.</p><h2 id=all-headers-as-map>All headers as Map</h2><p>We can get all the headers if we don&rsquo;t provide the name of the header that we are extracting and use a <code>Map</code> instead.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@RequestMapping</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/greeting&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> ResponseEntity<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>greeting</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@RequestHeader</span> Map<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>,</span> String<span style=color:#f92672>&gt;</span> headers<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    headers<span style=color:#f92672>.</span><span style=color:#a6e22e>entrySet</span><span style=color:#f92672>().</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>it <span style=color:#f92672>-&gt;</span> it<span style=color:#f92672>.</span><span style=color:#a6e22e>getKey</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;:&#34;</span> <span style=color:#f92672>+</span> it<span style=color:#f92672>.</span><span style=color:#a6e22e>getValue</span><span style=color:#f92672>()).</span><span style=color:#a6e22e>forEach</span><span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>::</span>println<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> ResponseEntity<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;(</span><span style=color:#e6db74>&#34;ok&#34;</span><span style=color:#f92672>,</span> HttpStatus<span style=color:#f92672>.</span><span style=color:#a6e22e>OK</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p><em>Note that headers will have only one value if multi value headers are found. In that case we should use <code>MultiValueMap</code>.</em></p><h2 id=using-the-httpheader-object>Using the <code>HttpHeader</code> object</h2><p>The <code>HttpHeader</code> objects is designed for the purpose of extracting headers from the request and should be preferred. <code>HttpHeader</code> is extends a <code>MultiValueMap</code> so it is exactly same as the above method of extracting headers but it provides method to extract common headers values.</p><p>For example these are some methods which are present:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>headers<span style=color:#f92672>.</span><span style=color:#a6e22e>getContentType</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>headers<span style=color:#f92672>.</span><span style=color:#a6e22e>getContentLength</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>headers<span style=color:#f92672>.</span><span style=color:#a6e22e>getAccessControlAllowOrigin</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>headers<span style=color:#f92672>.</span><span style=color:#a6e22e>getAccessControlAllowHeaders</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>headers<span style=color:#f92672>.</span><span style=color:#a6e22e>getLocation</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>headers<span style=color:#f92672>.</span><span style=color:#a6e22e>getOrigin</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// and lot more...
</span></span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>In this article we learned how to extract request headers in Sprint REST.</p><ul><li>If we just want a single value, we can do that using <code>@ReqeustHeader("name")</code> method. Be sure to mark is optional is it&rsquo;s not a required header.</li><li>We can get all headers using <code>HttpHeaders</code> object which is nothing but a <code>MultiValueMap</code>.</li></ul></div><a class="text-sky-600 mr-2" href=/tags/spring>#spring</a>
<a class="text-sky-600 mr-2" href=/tags/java>#java</a><div id=sharing class="mt3 ananke-socials"><a href="https://twitter.com/share?url=/java/spring/request-headers-in-spring-rest/&text=Spring%20-%20Read%20Http%20Request%20headers" class="ananke-social-link twitter no-underline" aria-label="share on Twitter"></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=/java/spring/request-headers-in-spring-rest/&title=Spring%20-%20Read%20Http%20Request%20headers" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn"></a></div><aside><div class="border-t-2 py-4"><p class="text-2xl font-bold">See Also</p><ul><li><a class="hover:underline hover:text-gray-500" href=/java/spring/extract-use-parse-url-path-data-variable/>Spring REST - Extract URL Path Variables</a></li><li><a class="hover:underline hover:text-gray-500" href=/java/convert-string-title-case-java-streams/>Convert String to title case in Java using Streams</a></li><li><a class="hover:underline hover:text-gray-500" href=/posts/2022-12-17-proxy-new-instance-json-mock-utility/>Create a service mocking framework around Proxy.newProxyInstance</a></li></ul></div></aside></article></main><footer class="bg-black dark:bg-slate-900 text-white bottom-0 w-100 pa3" role=contentinfo><div class="center relative max-w-4xl mx-auto px-12 py-16"><section class=mb-4><h1 class="text-2xl uppercase">ABOUT</h1><p>Hi! I'm Suresh. Your host. You can get to know me better in the
<a class="link white dim" href=/about>about</a> section or follow me
using the social media icons on the right</p><div><div class=ananke-socials><a href=https://twitter.com/sureshssarda target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window">Twitter</a>
<a href=https://github.com/sureshsarda target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub——Opens in a new window">GitHub</a>
<a href=https://www.linkedin.com/in/sureshsarda/ target=_blank class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window">LinkedIn</a>
<a href=https://sureshssarda.medium.com/ target=_blank class="medium ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Medium link" rel=noopener aria-label="follow on Medium——Opens in a new window">Medium</a></div></div></section><section class=mb-4><h1 class="text-2xl uppercase">categories</h1><a class=hover:text-gray-400 href=/categories/linux>linux (6)</a></section><section class=mb-4><h1 class="text-2xl uppercase">tags</h1><a class=hover:text-gray-400 href=/tags/ai>ai (1)</a>
<a class=hover:text-gray-400 href=/tags/apache-hadoop>apache-hadoop (1)</a>
<a class=hover:text-gray-400 href=/tags/apache-kafka>apache-kafka (1)</a>
<a class=hover:text-gray-400 href=/tags/apache-spark>apache-spark (1)</a>
<a class=hover:text-gray-400 href=/tags/apache-storm>apache-storm (1)</a>
<a class=hover:text-gray-400 href=/tags/big-data>big-data (1)</a>
<a class=hover:text-gray-400 href=/tags/clean-code>clean-code (3)</a>
<a class=hover:text-gray-400 href=/tags/containers>containers (1)</a>
<a class=hover:text-gray-400 href=/tags/data>data (1)</a>
<a class=hover:text-gray-400 href=/tags/design-patterns>design-patterns (2)</a>
<a class=hover:text-gray-400 href=/tags/docker>docker (2)</a>
<a class=hover:text-gray-400 href=/tags/elasticsearch>elasticsearch (5)</a>
<a class=hover:text-gray-400 href=/tags/java>java (11)</a>
<a class=hover:text-gray-400 href=/tags/linux>linux (11)</a>
<a class=hover:text-gray-400 href=/tags/linux-kernel>linux-kernel (1)</a>
<a class=hover:text-gray-400 href=/tags/notes>notes (1)</a>
<a class=hover:text-gray-400 href=/tags/performance>performance (1)</a>
<a class=hover:text-gray-400 href=/tags/power-unix-tools>power-unix-tools (1)</a>
<a class=hover:text-gray-400 href=/tags/programming>programming (2)</a>
<a class=hover:text-gray-400 href=/tags/python>python (3)</a>
<a class=hover:text-gray-400 href=/tags/reflection>reflection (1)</a>
<a class=hover:text-gray-400 href=/tags/research-paper>research-paper (2)</a>
<a class=hover:text-gray-400 href=/tags/sdlc>sdlc (1)</a>
<a class=hover:text-gray-400 href=/tags/spring>spring (2)</a>
<a class=hover:text-gray-400 href=/tags/unit-testing>unit-testing (1)</a></section><section class="mb-4 text-gray-400"><a href=/>&copy; Suresh Sarda 2022</a>
<span>Hosted on Github. Created using Tailwind CSS and Hugo.</span></section></div></div></footer></body></html>