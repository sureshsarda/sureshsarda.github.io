<!doctype html><html lang=en-us class=dark><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Spotless - an alternative to Checkstyle that applies the formatting | s9a.me</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Checkstyle is a wonderful tool when we want to enforce the style guidelines in the project. But it has 2 major problems:
It can&rsquo;t apply the formatting, it can only check whether the code is compatable. You need to rely on alternatives like suggested in this Stack Overflow thread. But there is no programattic way to do it. It can&rsquo;t work only on the changes that you have made. For you to only check with the files that you have modified, you need a workaround suggested in this article."><meta name=generator content="Hugo 0.121.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&family=Source+Sans+Pro:wght@200;300;400;700;900&display=swap"><meta property="og:title" content="Spotless - an alternative to Checkstyle that applies the formatting"><meta property="og:description" content="Checkstyle is a wonderful tool when we want to enforce the style guidelines in the project. But it has 2 major problems:
It can&rsquo;t apply the formatting, it can only check whether the code is compatable. You need to rely on alternatives like suggested in this Stack Overflow thread. But there is no programattic way to do it. It can&rsquo;t work only on the changes that you have made. For you to only check with the files that you have modified, you need a workaround suggested in this article."><meta property="og:type" content="article"><meta property="og:url" content="https://s9a.me/posts/2023-01-15-spotless-checkstyle-alternative-apply-formatting/"><meta property="og:image" content="https://s9a.me/images/slipbox.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-15T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-02T18:07:33+05:30"><meta property="og:site_name" content="sureshsarda.me"><meta itemprop=name content="Spotless - an alternative to Checkstyle that applies the formatting"><meta itemprop=description content="Checkstyle is a wonderful tool when we want to enforce the style guidelines in the project. But it has 2 major problems:
It can&rsquo;t apply the formatting, it can only check whether the code is compatable. You need to rely on alternatives like suggested in this Stack Overflow thread. But there is no programattic way to do it. It can&rsquo;t work only on the changes that you have made. For you to only check with the files that you have modified, you need a workaround suggested in this article."><meta itemprop=datePublished content="2023-01-15T00:00:00+00:00"><meta itemprop=dateModified content="2023-02-02T18:07:33+05:30"><meta itemprop=wordCount content="352"><meta itemprop=image content="https://s9a.me/images/slipbox.jpg"><meta itemprop=keywords content="java,clean code,gradle,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://s9a.me/images/slipbox.jpg"><meta name=twitter:title content="Spotless - an alternative to Checkstyle that applies the formatting"><meta name=twitter:description content="Checkstyle is a wonderful tool when we want to enforce the style guidelines in the project. But it has 2 major problems:
It can&rsquo;t apply the formatting, it can only check whether the code is compatable. You need to rely on alternatives like suggested in this Stack Overflow thread. But there is no programattic way to do it. It can&rsquo;t work only on the changes that you have made. For you to only check with the files that you have modified, you need a workaround suggested in this article."></head><body class="bg-slate-100 dark:bg-slate-900"><main><article class="center bg-white relative max-w-4xl mx-auto px-12 py-16"><header class="border-b-2 mb-8 pb-8"><aside><a href=/ class="font-semibold text-base uppercase text-sky-600 hover:text-sky-900">HOME</a></aside><h1 class="text-5xl my-4">Spotless - an alternative to Checkstyle that applies the formatting</h1><div class=mb-4><time class="text-base text-gray-700" datetime=2023-01-15T00:00:00Z>January 15, 2023</time></div><a class="text-sky-600 hover:text-sky-900 mr-2" href=/tags/java>#java
</a><a class="text-sky-600 hover:text-sky-900 mr-2" href=/tags/clean-code>#clean code
</a><a class="text-sky-600 hover:text-sky-900 mr-2" href=/tags/gradle>#gradle</a></header><div class=prose><p><a href=https://checkstyle.org/>Checkstyle</a> is a wonderful tool when we want to enforce the style guidelines in
the project. But it has 2 major problems:</p><ol><li>It can&rsquo;t apply the formatting, it can only check whether the code is
compatable. You need to rely on alternatives like suggested in this <a href=https://stackoverflow.com/questions/8409074>Stack
Overflow thread</a>. But there is
no programattic way to do it.</li><li>It can&rsquo;t work only on the changes that you have made. For you to only check
with the files that you have modified, you need a workaround suggested in
<a href=https://ealebed.github.io/posts/2020/gradle-checkstyle-on-changed-files-only/>this article</a>. (I don&rsquo;t speak the language but the code snippet is quite
evident)</li></ol><h2 id=enter-spotless3>Enter <a href=https://github.com/diffplug/spotless>Spotless</a></h2><p>Spotless is more or less similar to Checkstyle but with few more features that
we need. We will only discuss the differences. The rest is same.</p><h3 id=apply-the-fixes>Apply the fixes</h3><p>While Checkstyle only supports finding out the problems, Spotless can even fix
them for you. With Gradle you would end up running</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./gradlew spotlessApply
</span></span></code></pre></div><p>and ta-da!</p><p>The regular <code>./gradlew spotlessCheck</code> will just generate a report for you like
Checkstyle does.</p><h3 id=working-with-only-the-diff>Working with only the diff</h3><p>A very neat feature with Spotless is that it can only work with the diff. So
if you are integrating a code formatter for the first time on a legacy project
it would become very simple. The spotless configuration looks something like
this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=display:flex><span>spotless <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    ratchetFrom <span style=color:#e6db74>&#39;origin/main&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// more configuration omitted
</span></span></span></code></pre></div><p>This will only check and apply against the diff with <code>main</code> branch. Works fine
with tags, branches or any other commit for that matter.</p><h3 id=working-with-an-existing-code-formatter>Working with an existing code formatter</h3><p>Onboarding a legacy project to these changes is always challenging because
you end up either too many changes or it doesn&rsquo;t comply with the exact code
style that your organization is following. If your project already uses Eclipse
code formatter, you can simply re-use that with spotless. No new files or
anything is required.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=display:flex><span>spotless <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    java <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        eclipse<span style=color:#f92672>().</span><span style=color:#a6e22e>configFile</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;./.settings/eclipse-formatter.xml&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// more configurations emitted
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Well, these are the 3 features I loved about Spotless, which made it easy to
integrate with my existing projects.</p><hr><p>This is my 10th of 100 post in <a href=https://100daystooffload.com/>#100daysToOffload</a>.</p></div><div id=sharing class="mt3 ananke-socials"><a href="https://twitter.com/share?url=https://s9a.me/posts/2023-01-15-spotless-checkstyle-alternative-apply-formatting/&amp;text=Spotless%20-%20an%20alternative%20to%20Checkstyle%20that%20applies%20the%20formatting" class="ananke-social-link twitter no-underline" aria-label="share on Twitter"></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://s9a.me/posts/2023-01-15-spotless-checkstyle-alternative-apply-formatting/&amp;title=Spotless%20-%20an%20alternative%20to%20Checkstyle%20that%20applies%20the%20formatting" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn"></a></div><aside class=border-t-2><p class=pt-4>Want to discuss this further? You can DM me via
<a class=text-sky-500 href=https://twitter.com/sureshssarda>Twitter</a>,
<a class=text-sky-500 href=https://www.linkedin.com/in/sureshsarda/>LinkedIn</a> or directly drop an
<a class=text-sky-500 href="mailto:sureshssarda@gmail.com?subject=Spotless%20-%20an%20alternative%20to%20Checkstyle%20that%20applies%20the%20formatting">Email.</a></p></aside><aside><div class=py-4><p class="text-2xl font-bold">You might want to read</p><ul class="list-disc list-inside my-4"><li><a class="hover:underline hover:text-gray-500" href=/posts/java/2022-12-31-using-separate-source-root-for-integration-tests/>Using a Separate Source Root for Integration Tests</a></li><li><a class="hover:underline hover:text-gray-500" href=/posts/2020-01-06-design-oop-avoid-using-nulls-method-argument/>Why you should not use null as a method parameter</a></li><li><a class="hover:underline hover:text-gray-500" href=/posts/2023-12-13-proxy-interfaces/>Proxy Interfaces In Java</a></li></ul></div></aside></article></main><footer class="bg-black dark:bg-slate-900 text-white bottom-0 w-100 pa3" role=contentinfo><div class="center relative max-w-4xl mx-auto px-12 py-16"><section class=mb-4><h1 class="text-2xl uppercase hover:text-gray-300 hover:underline"><a href=/about>About</a></h1><p>Hi! I'm Suresh. Your host. You can get to know me better in the
<a class="hover:text-gray-500 hover:underline" href=/about>about</a> section or follow me
using the social media icons on the right</p><div><div class=ananke-socials><a href=https://twitter.com/sureshssarda target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window">Twitter
</a><a href=https://github.com/sureshsarda target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub——Opens in a new window">GitHub
</a><a href=https://www.linkedin.com/in/sureshsarda/ target=_blank class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window">LinkedIn
</a><a href=https://sureshssarda.medium.com/ target=_blank class="medium ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Medium link" rel=noopener aria-label="follow on Medium——Opens in a new window">Medium</a></div></div></section><section class=mb-4><h1 class="text-2xl uppercase hover:text-gray-300 hover:underline"><a href=/categories>categories</a></h1><a class="hover:text-gray-400 hover:underline" href=/categories/linux>linux (6)</a></section><section class=mb-4><h1 class="text-2xl uppercase hover:text-gray-300 hover:underline"><a href=/tags>tags</a></h1><a class="hover:text-gray-400 hover:underline" href=/tags/ai>ai (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-hadoop>apache-hadoop (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-kafka>apache-kafka (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-spark>apache-spark (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-storm>apache-storm (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/big-data>big-data (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/clean-code>clean-code (5)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/containers>containers (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/data>data (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/databases>databases (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/design>design (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/design-patterns>design-patterns (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/docker>docker (4)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/elasticsearch>elasticsearch (5)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/gradle>gradle (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/idea>idea (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/java>java (15)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/linux>linux (12)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/networking>networking (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/note-taking>note-taking (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/notes>notes (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/performance>performance (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/power-unix-tools>power-unix-tools (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/programming>programming (9)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/python>python (3)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/reflection>reflection (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/research-paper>research-paper (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/sdlc>sdlc (3)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/spring>spring (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/testing>testing (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/vscode>vscode (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/writing-well>writing-well (2)</a></section><section class="mb-4 text-gray-400"><a href=https://s9a.me/>&copy; Suresh Sarda 2024</a><p class="text-sm text-gray-500">Hosted on
<a class="hover:text-gray-300 hover:underline" href=https://github.com/sureshsarda/sureshsarda.github.io>Github</a>. Handcrafted using
<a class="hover:text-gray-300 hover:underline" href=https://gohugo.io/>Hugo</a> and
<a class="hover:text-gray-300 hover:underline" href=https://tailwindcss.com/>Tailwind</a>. (Version 17790dc)</p></section></div></div></footer></body></html>