<!doctype html><html lang=en-us class=dark><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Solution to Leetcode - Happy Number | s9a.me</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content='Solution to Leetcode&#39;s Happy Number problem. Write an algorithm to determine if a number is "happy".'><meta name=generator content="Hugo 0.124.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inria+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&family=Source+Sans+Pro:wght@200;300;400;700;900&display=swap"><meta property="og:title" content="Solution to Leetcode - Happy Number"><meta property="og:description" content='Solution to Leetcode&#39;s Happy Number problem. Write an algorithm to determine if a number is "happy".'><meta property="og:type" content="article"><meta property="og:url" content="https://s9a.me/problem-solving/leetcode/solution-happy-number/"><meta property="og:image" content="https://s9a.me/images/slipbox.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-02T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-25T03:14:56+00:00"><meta property="og:site_name" content="sureshsarda.me"><meta itemprop=name content="Solution to Leetcode - Happy Number"><meta itemprop=description content='Solution to Leetcode&#39;s Happy Number problem. Write an algorithm to determine if a number is "happy".'><meta itemprop=datePublished content="2020-04-02T00:00:00+00:00"><meta itemprop=dateModified content="2022-12-25T03:14:56+00:00"><meta itemprop=wordCount content="526"><meta itemprop=image content="https://s9a.me/images/slipbox.jpg"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://s9a.me/images/slipbox.jpg"><meta name=twitter:title content="Solution to Leetcode - Happy Number"><meta name=twitter:description content='Solution to Leetcode&#39;s Happy Number problem. Write an algorithm to determine if a number is "happy".'></head><body class="bg-slate-100 dark:bg-slate-900"><main><article class="center bg-white relative max-w-4xl mx-auto px-12 py-16"><header class="border-b-2 mb-8 pb-8"><aside class=print:hidden><a href=/ class="font-semibold text-base uppercase text-sky-600 hover:text-sky-900">HOME</a></aside><h1 class="text-5xl my-4">Solution to Leetcode - Happy Number</h1><div class=mb-4><time class="text-base text-gray-700" datetime=2020-04-02T00:00:00Z>April 2, 2020</time></div></header><div class=prose><p>As part of 30 days challenge during the Covid-19 pandemic, Leetcode published this problem on the second day:</p><blockquote><p>A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1. Those numbers for which this process ends in 1 are happy numbers.</p></blockquote><h2 id=explanation>Explanation</h2><p>Happy Number = repeated sum of squares of digits will end in 1
Non Happy Number = repeated sum of squares will lead in an infinite loop.</p><h2 id=thought-process-for-solution>Thought Process for Solution</h2><p>The main task is to figure out when to stop out of the infinite loop and conclude that a number is not happy. Once you can figure this out, the code is not very tricky.</p><p>Let&rsquo;s look at a sequence of a unhappy number, 42:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>    input   = 42
</span></span><span style=display:flex><span>=&gt; 16 + 4   = 20
</span></span><span style=display:flex><span>=&gt; 4 + 0    = 4
</span></span><span style=display:flex><span>=&gt; 16       = 16
</span></span><span style=display:flex><span>=&gt; 1 + 36   = 37
</span></span><span style=display:flex><span>=&gt; 9 + 49   = 56
</span></span><span style=display:flex><span>=&gt; 25 + 36  = 61
</span></span><span style=display:flex><span>=&gt; 36 + 1   = 37
</span></span></code></pre></div><p>It&rsquo;s evident from 37 that it will start to loop again from the 37 we have
already seen. This is important. We can now stop iterating because any number
of time we try 37, it&rsquo;s going to give same sequence
<code>37 -> 56 -> 61 -> 37 -> 56 -> ...</code>.</p><p>From here, the solution is simple, keep a track of already seen numbers and
when ever a new number is found, add it to this set. We are good till the
numbers are unique, but if we find a number we have already seen, that means we
have detected a loop.</p><h3 id=pseudo-code>Pseudo Code</h3><pre tabindex=0><code class=language-pseudo data-lang=pseudo>seen = {}
while number not in already seen and number is not 1:
    find square of digits of number
    add it to seen
</code></pre><h2 id=code>Code</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HappyNumber</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isHappy</span>(<span style=color:#66d9ef>int</span> n) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (n <span style=color:#f92672>&lt;=</span> 0) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        Set<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> alreadySeen <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> TreeSet<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> current <span style=color:#f92672>=</span> n;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>alreadySeen.<span style=color:#a6e22e>contains</span>(current) <span style=color:#f92672>&amp;&amp;</span> current <span style=color:#f92672>!=</span> 1) {
</span></span><span style=display:flex><span>            alreadySeen.<span style=color:#a6e22e>add</span>(current);
</span></span><span style=display:flex><span>            current <span style=color:#f92672>=</span> squareOfDigits(current);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> current <span style=color:#f92672>==</span> 1;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>squareOfDigits</span>(<span style=color:#66d9ef>int</span> number) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> digits <span style=color:#f92672>=</span> intToDigits(number);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> IntStream.<span style=color:#a6e22e>of</span>(digits).<span style=color:#a6e22e>reduce</span>(0, (a, b) <span style=color:#f92672>-&gt;</span> a <span style=color:#f92672>+</span> b <span style=color:#f92672>*</span> b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>intToDigits</span>(<span style=color:#66d9ef>int</span> number) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> String.<span style=color:#a6e22e>valueOf</span>(number).<span style=color:#a6e22e>chars</span>().<span style=color:#a6e22e>map</span>(it <span style=color:#f92672>-&gt;</span> it <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>).<span style=color:#a6e22e>toArray</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=some-test-cases-to-validate>Some test cases to validate</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HappyNumberTest</span> <span style=color:#66d9ef>extends</span> TestCase {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testIntToDigits</span>() {
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{0}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(0));
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{1}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(1));
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{2}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(2));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{1, 0}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(10));
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{2, 2}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(22));
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{9, 9}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(99));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{1, 0, 0}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(100));
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{1, 0, 1}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(101));
</span></span><span style=display:flex><span>        assertArrayEquals(<span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span>{5, 0, 0}, HappyNumber.<span style=color:#a6e22e>intToDigits</span>(500));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testSquareOfDigits</span>() {
</span></span><span style=display:flex><span>        assertEquals(0, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(0));
</span></span><span style=display:flex><span>        assertEquals(1, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(1));
</span></span><span style=display:flex><span>        assertEquals(9, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(3));
</span></span><span style=display:flex><span>        assertEquals(25, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(5));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        assertEquals(29, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(25));
</span></span><span style=display:flex><span>        assertEquals(37, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(16));
</span></span><span style=display:flex><span>        assertEquals(145, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(89));
</span></span><span style=display:flex><span>        assertEquals(42, HappyNumber.<span style=color:#a6e22e>squareOfDigits</span>(145));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testIsHappy</span>() {
</span></span><span style=display:flex><span>        assertTrue(HappyNumber.<span style=color:#a6e22e>isHappy</span>(1));
</span></span><span style=display:flex><span>        assertTrue(HappyNumber.<span style=color:#a6e22e>isHappy</span>(10));
</span></span><span style=display:flex><span>        assertTrue(HappyNumber.<span style=color:#a6e22e>isHappy</span>(100));
</span></span><span style=display:flex><span>        assertTrue(HappyNumber.<span style=color:#a6e22e>isHappy</span>(13));
</span></span><span style=display:flex><span>        assertTrue(HappyNumber.<span style=color:#a6e22e>isHappy</span>(31));
</span></span><span style=display:flex><span>        assertTrue(HappyNumber.<span style=color:#a6e22e>isHappy</span>(19));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        assertFalse(HappyNumber.<span style=color:#a6e22e>isHappy</span>(25));
</span></span><span style=display:flex><span>        assertFalse(HappyNumber.<span style=color:#a6e22e>isHappy</span>(145));
</span></span><span style=display:flex><span>        assertFalse(HappyNumber.<span style=color:#a6e22e>isHappy</span>(41));
</span></span><span style=display:flex><span>        assertFalse(HappyNumber.<span style=color:#a6e22e>isHappy</span>(42));
</span></span><span style=display:flex><span>        assertFalse(HappyNumber.<span style=color:#a6e22e>isHappy</span>(0));
</span></span><span style=display:flex><span>        assertFalse(HappyNumber.<span style=color:#a6e22e>isHappy</span>(99));
</span></span><span style=display:flex><span>        assertFalse(HappyNumber.<span style=color:#a6e22e>isHappy</span>(573));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>It&rsquo;s an interesting problem with a very simple solution. Once you get the
bright idea behind how to stop the loop, the solution becomes evident.</p></div><div id=sharing class="mt3 ananke-socials"><a href="https://twitter.com/share?url=https://s9a.me/problem-solving/leetcode/solution-happy-number/&amp;text=Solution%20to%20Leetcode%20-%20Happy%20Number" class="ananke-social-link twitter no-underline" aria-label="share on Twitter"></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://s9a.me/problem-solving/leetcode/solution-happy-number/&amp;title=Solution%20to%20Leetcode%20-%20Happy%20Number" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn"></a></div><aside class="border-t-2 print:hidden"><p class=pt-4>Want to discuss this further? You can DM me via
<a class=text-sky-500 href=https://twitter.com/sureshssarda>Twitter</a>,
<a class=text-sky-500 href=https://www.linkedin.com/in/sureshsarda/>LinkedIn</a> or directly drop an
<a class=text-sky-500 href="mailto:sureshssarda@gmail.com?subject=Solution%20to%20Leetcode%20-%20Happy%20Number">Email.</a></p></aside><aside class=print:hidden></aside></article></main><footer class="bg-black dark:bg-slate-900 text-white bottom-0 w-100 pa3 print:hidden" role=contentinfo><div class="center relative max-w-4xl mx-auto px-12 py-16"><section class=mb-4><h1 class="text-2xl uppercase hover:text-gray-300 hover:underline"><a href=/about>About</a></h1><p>Hi! I'm Suresh. Your host. You can get to know me better in the
<a class="hover:text-gray-500 hover:underline" href=/about>about</a> section or follow me
using the social media icons on the right</p><div><div class=ananke-socials><a href=https://twitter.com/sureshssarda target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window">Twitter
</a><a href=https://github.com/sureshsarda target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub——Opens in a new window">GitHub
</a><a href=https://www.linkedin.com/in/sureshsarda/ target=_blank class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window">LinkedIn
</a><a href=https://sureshssarda.medium.com/ target=_blank class="medium ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Medium link" rel=noopener aria-label="follow on Medium——Opens in a new window">Medium</a></div></div></section><section class=mb-4><h1 class="text-2xl uppercase hover:text-gray-300 hover:underline"><a href=/categories>categories</a></h1><a class="hover:text-gray-400 hover:underline" href=/categories/linux>linux (6)</a></section><section class=mb-4><h1 class="text-2xl uppercase hover:text-gray-300 hover:underline"><a href=/tags>tags</a></h1><a class="hover:text-gray-400 hover:underline" href=/tags/ai>ai (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-hadoop>apache hadoop (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-kafka>apache kafka (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-spark>apache spark (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/apache-storm>apache storm (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/big-data>big data (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/clean-code>clean code (5)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/containers>containers (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/data>data (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/databases>databases (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/design>design (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/design-patterns>design patterns (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/docker>docker (4)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/elasticsearch>elasticsearch (5)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/gradle>gradle (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/idea>idea (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/java>java (15)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/linux>linux (12)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/networking>networking (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/note-taking>note taking (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/notes>notes (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/performance>performance (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/power-unix-tools>power-unix-tools (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/programming>programming (9)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/python>python (3)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/reflection>reflection (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/research-paper>research-paper (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/sdlc>sdlc (3)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/spring>spring (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/testing>testing (2)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/vscode>vscode (1)</a>
<a class="hover:text-gray-400 hover:underline" href=/tags/writing-well>writing-well (2)</a></section><section class="mb-4 text-gray-400"><a href=https://s9a.me/>&copy; Suresh Sarda 2024</a><p class="text-sm text-gray-500">Hosted on
<a class="hover:text-gray-300 hover:underline" href=https://github.com/sureshsarda/sureshsarda.github.io>Github</a>. Handcrafted using
<a class="hover:text-gray-300 hover:underline" href=https://gohugo.io/>Hugo</a> and
<a class="hover:text-gray-300 hover:underline" href=https://tailwindcss.com/>Tailwind</a>. (Version )</p></section></div></div></footer></body></html>